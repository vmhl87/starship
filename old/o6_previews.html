<!DOCTYPE html>
<html>
	<head>
<!-- head -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@100..900&display=swap" rel="stylesheet">
<!---------->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- css -->
<link rel="stylesheet" href="../style.css"><!--------->
<!-- title -->
<title>O(sin(x))</title>
<!----------->
	</head>
	<body>
<!-- grabber -->
<div id="starship">Powered by Starship v1<div id="grabber">ðŸ”¥</div></div>
<!------------->
		<div id="flex-stack">
			<div id="title-outer">
				<div id="title-inner">
<!-- name -->
<a href="../mainpage-old.html">O(sin(x)) [old]</a>
<!---------->
				</div>
			</div>
			<div id="posts-outer">
				<div id="posts-inner">
<!-- posts -->
<div class="post"><div class="content">
<div class="post-title">
    <a class="post-title-name" href="o6_previews.html">Previews!</a>
    <div class="post-title-date">Jul&nbsp;2&nbsp;2024<br>10:38&nbsp;AM</div>
</div>
<!--
	:title Previews!
	:date Jul&nbsp;2&nbsp;2024<br>10:38&nbsp;AM
-->
<p><b>Starship v1</b> is nearing completion. I've decided on a consistent
format for drafts:</p>
<p>Drafts will be packaged as html snippets. Meta-information like title,
tags, date, etc. are contained in a single html comment at the top of the
draft file. For example:</p>

<pre class="code">
&lt;!--
    :title Hello, World!
    :tag pre-release
    :tag updates
--&gt;<br>
&lt;p&gt;Testing out Starship draft previews!&lt;/p&gt;
</pre>
<p>Draft body content is pretty much exactly as it would appear embedded
into the final pages. This packaging form also helps with summary generation;
summary cutoff is noted with an <b>[[ENDSUM]]</b> object. Dots and readmore
link are automatically generated.</p>
<p>For example, this draft:</p>
<pre class="code">
...draft file. For example:&lt;/p&gt;
<b>[[ENDSUM]]</b>
&lt;pre class="code"&gt;...
</pre>
<p>Unfortunately, because of this, draft files can't be individually rendered
raw. <b>preview.py</b> parses a draft file, outputting a page with both the
post's summarized view and full render. This is fine though.</p>
<hr>
<h4>Roadmap</h4>
<p>Now that draft parsing and rendering is working, publishing will be easy,
especially without chunking or any of the other fancy stuff. (In fact, the draft
collation script uses the same <b>collect()</b> system as publishing/appending
will in the future, but just with one single post.)</p>
<p>Project structure so far:</p>
<ul>
	<li>index.html</li>
	<li>style.css</li>
	<li>
		pages/ (empty)
	</li>
	<li>
		build/
		<ul>
			<li>preview.py</li>
			<li>publish.py</li>
			<li>
				drafts/
				<ul>
					<li>pre-release.html</li>
					<li>thoughts.html</li>
					<li>...</li>
				</ul>
			</li>
			<li>
				.artifacts/ (empty)
			</li>
			<li>
				source/
				<ul>
					<li>collect.py</li>
					<li>draft.py</li>
					<li>template.html</li>
					<li>head.html</li>
					<li>title.cfg</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>
<p>To avoid splitting and re-parsing the full rendered HTML anytime
a post is published to main, <b>.artifacts</b> will store concatenated
- but not collected - post summaries which themselves can be easily
extended or stitched into index.</p>
<p>Also, debating whether or not to store artifacts of every processed
draft & draft summary. If I do end up implementing some of my other
potential ideas (like a binlifting-type page navigator) I will need to
recollect all previous post artifacts to rebuild statically.</p>
<p>Either way, artifacts will contain for now an <b>index.html</b>
artifact, which will be front-concatenated anytime a new post is added.</p>
<p>In the future, for a buffered system, artifacts will store two
portions: one for the currently building sector, and one for the last
built sector: in an n-length sector system, each <b>old/</b> page will
contain n posts, and <b>index</b> will contain <b>n + overflow</b> posts.
Similar system will probably be implemented for categories.</p>
<p>Anyway, this will hopefully be the last draft I have to manually publish!</p>
</div></div><!----------->
				</div>
			</div>
		</div>
	</body>
</html>
