<!--
    :title Atcoder Beginner Contest 370 (and weird binary search?)
	:date Sep 7 2024<br>10:48 AM
    :tag programming oly contest-logs
-->
<p>Decent contest. Started 6 min late bc I lost track of time
while debugging some cses problem :/ but it was fine..</p>
<p>ABC were basically trivial, C had a pretty simple pattern
(provable by optimal-choice argument) which I got relatively
quickly. D was an adventure, though.</p>
<p>Task essentially asks us to determine in a 2d bitfield the[[ENDSUM]]
first set bit encountered when starting at some cell and moving
purely up, down, left, or right. For some reason I thought first
of some binlift-adjacent approach, but that was obviously too much
work and not really worth it to impl. Spent a while writing up some
bashy sol that mantained a segment tree for each row and column.
I spent way too long implementing this AND ALSO got 3 RE because
I swapped X bound and Y bound in coordinate bounds check. smh.</p>
<p>E was pretty interesting, but I didn't see the dp. F was another
dp that I couldn't think of a speedup for, and G was basically
impossible.</p>
<br>
<h3>"binlift search"</h3>
<p>Because of my semi-attempt at using not exactly binlifting on D,
my binary search (to find closest unset cell on segment) ended up
looking somewhat like this:</p>
<pre class=code-color>
<span class=g>int</span> i = initial;<br>
<span class=y>for</span>(<span class=g>int</span> p = <span class=y>20</span>; p; --p)
    <span class=y>if</span>(<span class=b>works</span>(i + (<span class=y>1</span>&lt;&lt;p))) i += <span class=y>1</span>&lt;&lt;p;<br>
<span class=r>// to search backwards, replace + with -</span>
</pre>
<p>Is this faster than normal binsearch? The operations are probably mostly
identical, but idk. probably no difference. It actually reminds me a lot of
<a href="https://codeforces.com/blog/entry/132656" target=_blank>fenwick search</a>,
but this is simpler surely..</p>
<p>Additionally, it can be made branchless pretty easily, I think:</p>
<pre class=code-color>
<span class=g>int</span> i = initial;<br>
<span class=y>for</span>(<span class=g>int</span> p = <span class=y>20</span>; p; --p)
    i += <span class=b>works</span>(i + (<span class=y>1</span>&lt;&lt;p)) &lt;&lt; p;
</pre>
<p>idk how well this works with cache and stuff though. Definitely loses
to <a href="https://en.algorithmica.org/hpc/data-structures/binary-search/" target=_blank>
    Algorithmica's eytzinger-layout based binary search</a>.<p>
